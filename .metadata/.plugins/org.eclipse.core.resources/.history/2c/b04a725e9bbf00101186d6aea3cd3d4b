package com.tca;

import java.util.Arrays;
import java.util.List;
import java.util.Stack;

import com.tca.util.DynamicLinkedListStack;

public class App {

	public static void main(String[] args) 
	{
		/*
		DynamicLinkedListStack stk = new DynamicLinkedListStack();
		
		stk.push(11);
		stk.push(22);
		stk.push(33);
		stk.push(44);
		stk.push(55);
		
		
		System.out.println(stk.size());
		
		System.out.println(stk);
		
		while(!stk.isEmpty())
		{
			System.out.println(stk.pop());
		}
		
		System.out.println(stk.size());
		//System.out.println(stk.capacity());
		
		System.out.println(infixToPostfix("A*B-(C+D)+E"));
		
		*/
		
//		List<Integer> L = Arrays.asList(3,4,6,9,2,1,5,8);
//		System.out.println(L.stream().sorted().toList());
//		
//		Integer a[][] = {{11,22,33,44,55},
//						{66,77,88,99,100}
//						};
//		System.out.println(Arrays.toString(a));
//		System.out.println(Arrays.deepToString(a));
		
		System.out.println(Character.digit('9',32));
		
	}
	
	private static int precedence(char ch) 
	{
        switch (ch) {
            case '+':
            case '-':
                return 1;
            case '*':
            case '/':
                return 2;
            case '^':
                return 3;
        }
        return -1;
    }
	
	public static String infixToPostfix(String str)
	{
		Stack<Character> stk = new Stack<>();
		
		StringBuilder sb = new StringBuilder();
		
		for(int i=0; i<str.length();i++)
		{
			char ch = str.charAt(i);
			
			if(Character.isLetterOrDigit(ch))
			{
				sb.append(ch);
			}
			else if(ch == ')')
			{
				while(stk.peek() != '(' && !stk.isEmpty())
				{
					sb.append(stk.pop());
				}
				
				if(stk.peek() == '(' && !stk.isEmpty())
				{
					stk.pop();	// remove '('
				}
			}
			else
			{
				// Pop and output tokens until:
                // - one of lower priority than t is encountered
                // - OR a '(' is encountered
                // - OR stack becomes empty
				
				while(!stk.isEmpty() && stk.peek() != '(' && precedence(stk.peek()) >= precedence(ch))
				{
					sb.append(stk.pop());
				}
				
				stk.push(ch);
			}
		}
		
		while (!stk.isEmpty()) {
            sb.append(stk.pop());
        }

        return sb.toString();
		
		
	}

}
